<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:beans="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd
		http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd">

	<!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure -->
	
	<!-- Enables the Spring MVC @Controller programming model -->
	<annotation-driven />

	<!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory -->
	<resources mapping="/resources/**" location="/resources/" />

	<!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory -->
	<beans:bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
		<beans:property name="prefix" value="/WEB-INF/views/" /> <!-- 경로 -->
		<beans:property name="suffix" value=".jsp" /> <!-- 호출할 화면의 확장자 -->
	</beans:bean>
	<!-- 전체 경로 만들고 DispatcherServlet에 전달하여 View 호출할 수 있도록 도움 -->
	<!-- Controller에서 View의 파일명 가져와서 접두사(경로), 접미사(확장자)합치는 작업 -->
	
	
	<!-- @Required, @Autowired, @Resource 사용할 경우 <context:annotation-config/> 태그 추가 -->
	<context:annotation-config/>
	
	<!-- 유효성 체크 -->
	<!-- ============== 리소스 번들 지정, 등록(메시지 처리) ================ -->
	<beans:bean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource">
		<beans:property name="basenames">
			<!-- 한글버전만 등록. locale이 영어이면 _en -->
			<beans:list><!-- 폴더.파일명(확장자는 무조건 properties이므로 생략) -->
				<beans:value>messages.validation</beans:value>	<!-- 오류메시지 -->
				<beans:value>messages.label</beans:value>	<!-- 화면상 label -->
			</beans:list>
		</beans:property>
	</beans:bean>
	
	<!-- 로그인 처리 -->
	<beans:bean class="kr.spring.ch01.controller.LoginController"/>
	<beans:bean class="kr.spring.ch01.service.LoginService"/> <!-- @Autowired로 타입체크 하기때문에 id생략가능 -->
	
	<!-- locale 설정 -->
	<!-- ============== localeResolver 지정 ================ -->
	<!-- locale 정보 저장하는 역할 -->
	<beans:bean id="localeResolver" class="org.springframework.web.servlet.i18n.SessionLocaleResolver"/>
	
	<!-- locale 변경 -->
	<beans:bean class="kr.spring.ch02.controller.LocaleChangeController"/>
	
	
</beans:beans>
